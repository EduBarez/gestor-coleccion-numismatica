<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Email</mat-label>
    <input matInput formControlName="email" type="email" />
    <mat-error *ngIf="form.get('email')?.hasError('required')">
      El email es obligatorio
    </mat-error>
    <mat-error *ngIf="form.get('email')?.hasError('email')">
      Introduce un email válido
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Contraseña</mat-label>
    <input matInput formControlName="password" type="password" />
    <mat-error *ngIf="form.get('password')?.hasError('required')">
      La contraseña es obligatoria
    </mat-error>
    <mat-error *ngIf="form.get('password')?.hasError('minlength')">
      Mínimo 8 caracteres
    </mat-error>
    <mat-error *ngIf="form.get('password')?.hasError('pattern')">
      La contraseña debe tener sólo letras y números, al menos una de cada uno.
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Nombre</mat-label>
    <input matInput formControlName="nombre" />
    <mat-error *ngIf="form.get('nombre')?.hasError('required')">
      El nombre es obligatorio
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Apellidos</mat-label>
    <input matInput formControlName="apellidos" />
    <mat-error *ngIf="form.get('apellidos')?.hasError('required')">
      Los apellidos son obligatorios
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>DNI</mat-label>
    <input matInput formControlName="DNI" />
    <mat-error *ngIf="form.get('DNI')?.hasError('required')">
      El DNI es obligatorio
    </mat-error>
  </mat-form-field>

  <label class="rol-label">Rol</label>
  <mat-radio-group formControlName="rol" class="rol-group">
    <mat-radio-button value="admin">Admin</mat-radio-button>
    <mat-radio-button value="user">Usuario</mat-radio-button>
  </mat-radio-group>

  <button
    mat-raised-button
    color="primary"
    type="submit"
    [disabled]="form.invalid"
  >
    Registrar
  </button>

  <p class="message">{{ message }}</p>
</form>
